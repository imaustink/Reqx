var ReqX=function(e){this.version=1.2+" (Beta)";var t=this;var n=0;var r=[];var i=[];if(!e)e={};var s=function(){n++};var o=function(e){n--;if(e){if(!r)r=[];r.push(e);if(t.error_callback)t.error_callback(e)}if(n==0){if(i.length>0)u();i.splice(0,1);if(t.callback&&i.length<1&&n<1){if(!r||r.length<1)r=null;t.callback(r);t.callback=null}}};var u=function(){if(i.length<1)return;var e=i[0];t.ajax(e.url,e.method,e.data,e.callback)};this.done=function(e){if(typeof e!=="function")return console.warn("ReqX.done() only accepts functions");t.callback=e;return this};this.error=function(e){if(typeof e!=="function")return console.warn("ReqX.errors() only accepts functions");t.error_callback=e;return this};this.ajax=function(r,u,a,f){var l=function(){if(e.sync&&n>0){i.unshift({url:r,method:u,data:a,callback:f});return}t.ajax(r,u,a,f)};if(e.sync&&n>0){var c={url:r,method:u,data:a,callback:f};i.push(c);return this}if(typeof u=="function"){f=u;a=u=undefined}if(typeof a=="function"){f=a;a=undefined}s();$.ajax({url:r,cache:e.cache||false,type:u||e.default_method||"GET",data:a||{},dataType:e.dataType}).done(function(e){if(f)f(null,e,l);o()}).error(function(e,t,n){if(f)f(e);o(e)});return this};this.get=function(e,t,n){if(!t){n=t;t=undefined}this.ajax(e,"GET",t,n);return this};this.post=function(e,t,n){if(!t){n=t;t=undefined}this.ajax(e,"POST",t,n);return this};return this}
